create table "APP".ACCOUNTS ( ID INTEGER not null primary key, USERNAME VARCHAR(100) not null, EMAIL VARCHAR(250) not null, PW_HASH VARCHAR(250) not null, PERMISSION_LEVEL SMALLINT default 0 not null );

create table "APP".PRODUCTS ( ID INTEGER not null primary key, PRODUCTNAME VARCHAR(200) not null, PRICE DECIMAL(5,2) not null, DESCRIPTION VARCHAR(500) );

create table "APP".CATEGORIES ( CID INTEGER not null primary key, CATEGORYNAME VARCHAR(200) not null );

create table "APP".PRODUCTS_CATEGORIES ( PID INTEGER not null, CID INTEGER not null, PRIMARY KEY(PID, CID), FOREIGN KEY(PID) REFERENCES PRODUCTS(ID), FOREIGN KEY(CID) REFERENCES CATEGORIES(CID) );

create table "APP".ORDERS
(
	ORDERNUM INTEGER not null primary key,
	ID INTEGER not null,
	DATE DATE not null,
	FOREIGN KEY (ID) REFERENCES ACCOUNTS(ID)
);

create table "APP".ORDERS_PRODUCTS
(
        ORDERNUM INTEGER not null,
        PID INTEGER not null,
        QUANTITY INTEGER not null,
        PRIMARY KEY (ORDERNUM, PID),
        FOREIGN KEY (PID) REFERENCES PRODUCTS(ID),
        FOREIGN KEY (ORDERNUM) REFERENCES ORDERS(ORDERNUM)
);

INSERT INTO CATEGORIES(CID, CATEGORYNAME)
VALUES (1, 'School Supplies');
INSERT INTO CATEGORIES(CID, CATEGORYNAME)
VALUES (2, 'Office Products');
INSERT INTO CATEGORIES(CID, CATEGORYNAME)
VALUES (3, 'Specials');
INSERT INTO PRODUCTS (ID, PRODUCTNAME, PRICE, DESCRIPTION)
VALUES (1, 'Pencils', 1.50, 'Obsolete writing tool');
INSERT INTO PRODUCTS (ID, PRODUCTNAME, PRICE, DESCRIPTION)
VALUES (2, 'Markers', 1.50, 'Replacement for chalk');
INSERT INTO PRODUCTS (ID, PRODUCTNAME, PRICE, DESCRIPTION)
VALUES (3, 'Pens', 2.50, 'Writing instrument of choice');
INSERT INTO PRODUCTS (ID, PRODUCTNAME, PRICE, DESCRIPTION)
VALUES (4, 'Chalk', 1.00, 'Obsolete school supply');
INSERT INTO PRODUCTS_CATEGORIES (PID, CID)
VALUES(1, 1);
INSERT INTO PRODUCTS_CATEGORIES (PID, CID)
VALUES(1, 2);
INSERT INTO PRODUCTS_CATEGORIES (PID, CID)
VALUES(1, 3);
INSERT INTO PRODUCTS_CATEGORIES (PID, CID)
VALUES(2, 1);
INSERT INTO PRODUCTS_CATEGORIES (PID, CID)
VALUES(2, 2);
INSERT INTO PRODUCTS_CATEGORIES (PID, CID)
VALUES(3, 1);
INSERT INTO PRODUCTS_CATEGORIES (PID, CID)
VALUES(3, 2);
INSERT INTO PRODUCTS_CATEGORIES (PID, CID)
VALUES(4, 1);
INSERT INTO PRODUCTS_CATEGORIES (PID, CID)
VALUES(4, 2);
INSERT INTO PRODUCTS_CATEGORIES (PID, CID)
VALUES(4, 3);
INSERT INTO ACCOUNTS (ID, USERNAME, EMAIL, PW_HASH, PERMISSION_LEVEL)
VALUES(1, 'admin', '', '5BAA61E4C9B93F3F0682250B6CF8331B7EE68FD8', 1);
INSERT INTO ACCOUNTS (ID, USERNAME, EMAIL, PW_HASH, PERMISSION_LEVEL)
VALUES(2, 'user', '', '5BAA61E4C9B93F3F0682250B6CF8331B7EE68FD8', 0);

CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50), SEQ_COUNT DECIMAL(15));
INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0);
